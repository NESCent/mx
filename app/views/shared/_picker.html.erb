<% name_group ||= 'all' -%> <%# taxon name specific -%>
<% use_proj ||= 'true' -%>  <%# taxon name specific -%>
<% geog_types ||= 'all' -%> <%# geog specific -%>
<% action ||= "auto_complete_for_#{controller}".html_safe -%><%#refs from other projs specific %>
<% css_class ||= 'ajaxPicker' -%>

<% url = url_for({:controller => controller, :action => action, :tag_id => tag_id,
    :name_group => name_group, :use_proj => use_proj, :escape => false, :geog_types => geog_types}) -%> <%# added }, :escape => true %>

<input autocomplete="off" title="find and select <%= controller.pluralize.html_safe -%>"
  class="mx-autocomplete <%= css_class -%>" id="<%= tag_id %>" name="<%= tag_id %>"
  data-mx-autocomplete-url='<%= url.html_safe %>'
  <%= ((size ||= nil).nil? ? 'style="width:98%;"' : "size=\"#{size}\"").html_safe -%>
  type="text" value="<%= display %>" />

<%# TODO: verify the placement of this- it probably should go elsewhere utlimately vs. MxController#browse, which has @matrix and @mx variable names that could be switched to fix this -%>
<%= hidden_field(object, method)  -%>
