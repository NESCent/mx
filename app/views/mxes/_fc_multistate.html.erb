<!-- char state choices -->
<% @chr.chr_states.each do |s| -%>
  <% coded = s.coded?(@otu.id) %>
  <li>
    <% if one_click %>
      <% if coded %>
        <input type='submit' value="&#8722;" >
      <% else %>
        <input type='submit' value="&#43;" >
      <% end %>
      &nbsp;
      <input type='checkbox' <%= coded ? "checked" : "" %> disabled ></input>

      <% # If this is coded, we have a hidden field, which is not coded. So when we submit -
         # The value is serialized and stored in the DB  - comes across as what you *want* to set it to
      %>
      <input type="hidden" name="%<= s.id %>" value="<%= (!coded).to_s %>"></input>
      <%= s.s_and_m -%>
    <% else %>
      <input type="checkbox" value="<%= s.id -%>" <%= "checked" if coded -%>>
      <%= s.s_and_m -%>
    <% end %>
  </li>
<% end %>
