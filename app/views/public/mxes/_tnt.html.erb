xread
'generated by mx <%= Time.now %>
from matrix: <%=h @mx.name %> (id: <%= @mx.id %>)'

<%= @chrs.length %> <%= @otus.length %>

<% col_width = @otus.inject(0) {|max,o| max >= o.display_name(:type => :matrix_name).length ? max : o.display_name(:type => :matrix_name).length } + 1 -%>
<% for otu in @otus %>
  <%= "#{otu.display_name(:type => :matrix_name).ljust(col_width)} " -%>
  <% for chr in @chrs %><%= Mx.print_codings(@codings_mx, chr, otu) %><% end -%>
<% end %>
;

<% i = 0 %>
cnames
<% for chr in @chrs -%>
 {<%= "#{i} #{chr.display_matrix_name} #{chr.display_states}" %>;<% i += 1 %>
<% end -%>
;
